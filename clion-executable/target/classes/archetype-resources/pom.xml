<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>${groupId}</groupId>
    <artifactId>${artifactId}</artifactId>
    <version>${version}</version>
    <packaging>nar</packaging>

    <name>C/C++ NAR Project for CLion IDE</name>
    <description>
        C/C++ NAR Project ready to be open by CLion IDE.
        CLion doesn't support compilation using the NAR plugin.
		If you want to compile and install this project use the terminal (Alt+F12) if you are using Maven NAR 3.2.3 or older, you will need to configure your path http://stackoverflow.com/a/34658125/2692914.
		
        mvn compile
		mvn package
        mvn install
		mvn test
    </description>
    <url>https://github.com/maven-nar/</url>

    <!--
    <properties>
      <skipTests>true</skipTests>
    </properties>
    -->
	
	<!-- 
	If you setup your environment you could do this and easily have OpenCv, logger and other functionalities in your program!
	See https://github.com/lmiguelmh to find the NAR projects for OpenCV binaries/Windows/msvc11 (VS2012) used here
	
	For system libraries you could do (according to your requirement):
	#pragma comment(lib, "user32.lib") //in your source file	
	#pragma comment(lib, "gdi32.lib") 
	#pragma comment(lib, "advapi32.lib")
	...
	You can use <linker/> too see below.
	This way you don't need to generate a NAR project for every .lib (wich I did for OpenCV)
		
    <dependencies>
		OpenCV library
        <dependency>
            <groupId>org.opencv</groupId>
            <artifactId>opencv-core</artifactId>
            <version>2.4.10</version>
            <type>nar</type>
        </dependency>
        <dependency>
            <groupId>org.opencv</groupId>
            <artifactId>opencv-highgui</artifactId>
            <version>2.4.10</version>
            <type>nar</type>
        </dependency>
        <dependency>
            <groupId>org.opencv</groupId>
            <artifactId>opencv-imgproc</artifactId>
            <version>2.4.10</version>
            <type>nar</type>
        </dependency>

		Commons library
        <dependency>
            <groupId>lmiguelmh.commons</groupId>
            <artifactId>commons</artifactId>
            <version>1.0</version>
            <type>nar</type>
        </dependency>

		Log4z
        <dependency>
            <groupId>zsummer.log4z</groupId>
            <artifactId>log4z</artifactId>
            <version>3.0</version>
            <type>nar</type>
        </dependency>
		
		Java JNI
		<dependency>
            <groupId>java.jni</groupId>
            <artifactId>jni-include</artifactId>
            <version>jdk1.7.0_80</version>
            <type>nar</type>
        </dependency>
        <dependency>
            <groupId>java.jni</groupId>
            <artifactId>jni-include-win32</artifactId>
            <version>jdk1.7.0_80</version>
            <type>nar</type>
        </dependency>
		
		Google test
		<dependency>
            <groupId>google.gtest</groupId>
            <artifactId>gtest</artifactId>
            <version>1.7.0</version>
            <type>nar</type>
        </dependency>
        <dependency>
            <groupId>google.gtest</groupId>
            <artifactId>gtest-main</artifactId>
            <version>1.7.0</version>
            <type>nar</type>
        </dependency>
    </dependencies>
	-->

    <build>
        <defaultGoal>integration-test</defaultGoal>
        <plugins>
            <plugin>
                <groupId>com.github.maven-nar</groupId>
                <artifactId>nar-maven-plugin</artifactId>
                <version>3.3.0</version>
                <extensions>true</extensions>
                <configuration>
                    <libraries>
                        <!--
                        all of these configurations could be enabled at the same time
                        the NAR plugin will generate an artifact for each one
                        -->
                        <!-- executable -->
                        <library>
                            <type>executable</type>
                            <run>true</run>
                        </library>

                        <!-- static library
                        <library>
                          <type>static</type>
                        </library>
                        -->

                        <!-- shared library
                        <library>
                          <type>shared</type>
                        </library>
                        -->
                    </libraries>
					
					<!-- comment this if you don't want to execute the main-test.cpp everytime -->
					<tests>
						<!-- a test statically linked -->
						<test>
							<name>${artifactId}-test</name>
							<link>static</link>
						</test>
						
						<!-- a test with shared dependencies (dlls)
						<test>
							<name>${artifactId}-test-md</name>
							<link>shared</link>
						</test>
						-->
					</tests>
					
					<!-- uncomment this to fix these issues: 
					http://stackoverflow.com/q/35903652/2692914
					http://stackoverflow.com/q/35898892/2692914
					<msvc>
                        <version>11.0</version>
                        <windowsSdkVersion>8.0</windowsSdkVersion>
                    </msvc>
					-->
					
					<!-- adding system libraries
                    <linker>
                        <sysLibs>
                            <sysLib>
                                <name>pthread</name>
                            </sysLib>
                        </sysLibs>
                    </linker>
					-->
                </configuration>
            </plugin>
			
        </plugins>
    </build>

</project>
